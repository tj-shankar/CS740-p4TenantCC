# CS740-p4TenantCC
Adv Computer Networks CS740 Project Work : Congestion Control in Multi-Tenant Environment using P4 Switches.

P4 switches can track per-flow state.  This enables new congestion control algorithms like XCP and RCP that compute ideal congestion windows for each flow traversing the switch and explicitly communicate this to end-hosts through packet headers.  However, per-flow fairness is often far from ideal. A tenant can gain additional performance by opening up multiple connections.  The goal of this project is to develop new stateful P4 programs that can be used to implement congestion control algorithms that provide congestion control according to a high-level policy.  For example, instead of converging to per-flow fairness, such a new congestion control algorithm could instead provide per-tenant fairness, regardless of the number of active flows from each tenant.

Files:

controller.py   : Python code for controller, which polls switch enqueue depth to identify congestion.
				  Also calculates the individual tenant's backoff value based on the metrics collected by switch.
ipv4_forward.p4 : P4 code having the main logic to store tenant specific traffic metric.
				  P4 code also updates tenant's ack_flag with update backoff value generated by controller.
p4app.json	    : The JSON file contains the topology of the network setup, which is booted up by Mininet.
send_constant.py: Scapy Python code to generate multi tenant type traffic, using custom "tenant" header.
				  Here each tenant congestion window is same, so to generate traffic in equal ratio.
send_varied.py  : Scapy Python code to generate multi tenant type traffic, using custom "tenant" header.
				  Here each tenant congestion window is is skewed, so to generate traffic in unequal ratio.
receive.py      : Recieving Host's Scapy Python code. An ack is sent back to the tenant periodically.
s1-commands.txt	: Control Plane Table file for Switch 1
s2-commands.txt	: Control Plane Table file for Switch 2
s3-commands.txt	: Control Plane Table file for Switch 3
run.sh	        : Shell script to automate booting up the Mininet network with software switches in desired topology

Directories:
P4 installation : Contains steps to setup P4 Compiler and BMV2 software switch environment.
Demo screenshots: Contains PNG images of demo. Starting of Demo and Feedback loop execution.